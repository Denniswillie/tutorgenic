{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\noogler\\\\Documents\\\\tutorgenic\\\\dev\\\\client\\\\src\\\\components\\\\Auth.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Auth() {\n  _s();\n\n  useEffect(() => {\n    const ac = new AbortController();\n    fetch('/auth/isLoggedIn', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).catch(err => console.log(err)).then(res => {\n      if (res.isLoggedIn) {}\n    });\n    axios.get('/auth/isLoggedIn').then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.isLoggedIn) {\n        window.open('/home', '_self');\n      }\n    }).catch(err => console.log(err));\n    return () => {\n      ac.abort();\n    };\n  }, []);\n  const loginFormRef = useRef();\n  const registerFormRef = useRef();\n  const [displayLogin, setDisplayLogin] = useState(true);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [fullName, setFullName] = useState(\"\");\n\n  function displayLoginForm() {\n    if (!displayLogin) {\n      setUsername(\"\");\n      setPassword(\"\");\n      setFullName(\"\");\n    }\n\n    setDisplayLogin(true);\n    document.getElementById(\"login\").style.left = \"50px\";\n    document.getElementById(\"register\").style.left = \"450px\";\n    document.getElementById(\"btn\").style.left = \"0px\";\n  }\n\n  function displayRegisterForm() {\n    if (displayLogin) {\n      setUsername(\"\");\n      setPassword(\"\");\n      setFullName(\"\");\n    }\n\n    setDisplayLogin(false);\n    document.getElementById(\"login\").style.left = \"-400px\";\n    document.getElementById(\"register\").style.left = \"50px\";\n    document.getElementById(\"btn\").style.left = \"110px\";\n  }\n\n  function handleChangeUsername(event) {\n    setUsername(event.target.value);\n  }\n\n  function handleChangePassword(event) {\n    setPassword(event.target.value);\n  }\n\n  function handleChangeFullName(event) {\n    setFullName(event.target.value);\n  }\n\n  function handleLogin(event) {\n    event.preventDefault();\n    const formData = new FormData(loginFormRef.current);\n    axios({\n      method: 'post',\n      url: '/auth/login',\n      data: formData,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.isLoggedIn) {\n        window.open('/home', '_self');\n      } else {\n        alert('Wrong credentials');\n      }\n    }).catch(err => console.log(err));\n  }\n\n  function handleRegister(event) {\n    event.preventDefault();\n    console.log('register');\n    const formData = new FormData(registerFormRef.current);\n    axios({\n      method: 'post',\n      url: '/auth/register',\n      data: formData,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.success) {\n        window.open('/home', '_self');\n      } else {\n        alert('Failed to register');\n      }\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hero\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: \"auto\"\n        },\n        children: \"Tutorgenic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"btn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"toggle-btn\",\n          onClick: displayLoginForm,\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"toggle-btn\",\n          onClick: displayRegisterForm,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this), displayLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"social-icons\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: process.env.PUBLIC_URL + '/images/google.png',\n          alt: \"google login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"login\",\n        ref: loginFormRef,\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          value: username,\n          onChange: handleChangeUsername,\n          type: \"text\",\n          className: \"input-field\",\n          placeholder: \"Enter your username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          value: password,\n          onChange: handleChangePassword,\n          type: \"password\",\n          className: \"input-field\",\n          placeholder: \"Enter your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-btn\",\n          onClick: handleLogin,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"register\",\n        ref: registerFormRef,\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"fullName\",\n          value: fullName,\n          onChange: handleChangeFullName,\n          type: \"text\",\n          className: \"input-field\",\n          placeholder: \"Enter your full name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          value: username,\n          onChange: handleChangeUsername,\n          type: \"text\",\n          className: \"input-field\",\n          placeholder: \"Create a username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          value: password,\n          onChange: handleChangePassword,\n          type: \"password\",\n          className: \"input-field\",\n          placeholder: \"Create a password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-btn\",\n          onClick: handleRegister,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Auth, \"YUEeWUioXCHHtfReIJn4Mbkzduo=\");\n\n_c = Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["C:/Users/noogler/Documents/tutorgenic/dev/client/src/components/Auth.js"],"names":["useState","useEffect","useRef","axios","Auth","ac","AbortController","fetch","method","headers","Accept","then","res","json","catch","err","console","log","isLoggedIn","get","data","window","open","abort","loginFormRef","registerFormRef","displayLogin","setDisplayLogin","username","setUsername","password","setPassword","fullName","setFullName","displayLoginForm","document","getElementById","style","left","displayRegisterForm","handleChangeUsername","event","target","value","handleChangePassword","handleChangeFullName","handleLogin","preventDefault","formData","FormData","current","url","alert","handleRegister","success","margin","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import {useState, useEffect, useRef} from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function Auth() {\r\n    useEffect(() => {\r\n        const ac = new AbortController();\r\n        fetch('/auth/isLoggedIn', {\r\n            method: 'GET',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if (res.isLoggedIn) {\r\n                \r\n            }\r\n        })\r\n        axios.get('/auth/isLoggedIn')\r\n            .then(res => res.data)\r\n            .catch(err => console.log(err))\r\n            .then(res => {\r\n                if (res.isLoggedIn) {\r\n                    window.open('/home', '_self');\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n        return () => {\r\n            ac.abort();\r\n        }\r\n    }, []);\r\n    const loginFormRef = useRef();\r\n    const registerFormRef = useRef();\r\n    const [displayLogin, setDisplayLogin] = useState(true);\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [fullName, setFullName] = useState(\"\");\r\n    function displayLoginForm() {\r\n        if (!displayLogin) {\r\n            setUsername(\"\");\r\n            setPassword(\"\");\r\n            setFullName(\"\");\r\n        }\r\n        setDisplayLogin(true);\r\n        document.getElementById(\"login\").style.left = \"50px\";\r\n        document.getElementById(\"register\").style.left = \"450px\";\r\n        document.getElementById(\"btn\").style.left = \"0px\";\r\n    }\r\n\r\n    function displayRegisterForm() {\r\n        if (displayLogin) {\r\n            setUsername(\"\");\r\n            setPassword(\"\");\r\n            setFullName(\"\");\r\n        }\r\n        setDisplayLogin(false);\r\n        document.getElementById(\"login\").style.left = \"-400px\";\r\n        document.getElementById(\"register\").style.left = \"50px\";\r\n        document.getElementById(\"btn\").style.left = \"110px\";\r\n    }\r\n\r\n    function handleChangeUsername(event) {\r\n        setUsername(event.target.value);\r\n    }\r\n\r\n    function handleChangePassword(event) {\r\n        setPassword(event.target.value);\r\n    }\r\n\r\n    function handleChangeFullName(event) {\r\n        setFullName(event.target.value);\r\n    }\r\n\r\n    function handleLogin(event) {\r\n        event.preventDefault();\r\n        const formData = new FormData(loginFormRef.current);\r\n        axios({\r\n            method: 'post',\r\n            url: '/auth/login',\r\n            data: formData,\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res => res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if (res.isLoggedIn) {\r\n                window.open('/home', '_self');\r\n            } else {\r\n                alert('Wrong credentials');\r\n            }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    function handleRegister(event) {\r\n        event.preventDefault();\r\n        console.log('register');\r\n        const formData = new FormData(registerFormRef.current);\r\n        axios({\r\n            method: 'post',\r\n            url: '/auth/register',\r\n            data: formData,\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res => res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if (res.success) {\r\n                window.open('/home', '_self');\r\n            } else {\r\n                alert('Failed to register');\r\n            }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    return <div className=\"hero\">\r\n        <div className=\"form-box\">\r\n            <h2 style={{margin: \"auto\"}}>Tutorgenic</h2>\r\n            <div className=\"button-box\">\r\n                <div id=\"btn\"></div>\r\n                <button type=\"button\" className=\"toggle-btn\" onClick={displayLoginForm}>Log In</button>\r\n                <button type=\"button\" className=\"toggle-btn\" onClick={displayRegisterForm}>Register</button>\r\n            </div>\r\n            {displayLogin && <div className=\"social-icons\">\r\n                <img \r\n                    src={process.env.PUBLIC_URL + '/images/google.png'} \r\n                    alt=\"google login\"/>\r\n            </div>}\r\n            <form id=\"login\" ref={loginFormRef} className=\"input-group\">\r\n                <input name=\"username\" value={username} onChange={handleChangeUsername} type=\"text\" className=\"input-field\" placeholder=\"Enter your username\"/>\r\n                <input name=\"password\" value={password} onChange={handleChangePassword} type=\"password\" className=\"input-field\" placeholder=\"Enter your password\"/>\r\n                <button type=\"submit\" className=\"submit-btn\" onClick={handleLogin}>Login</button>\r\n            </form>\r\n            <form id=\"register\" ref={registerFormRef} className=\"input-group\">\r\n                <input name=\"fullName\" value={fullName} onChange={handleChangeFullName} type=\"text\" className=\"input-field\" placeholder=\"Enter your full name\"/>\r\n                <input name=\"username\" value={username} onChange={handleChangeUsername} type=\"text\" className=\"input-field\" placeholder=\"Create a username\"/>\r\n                <input name=\"password\" value={password} onChange={handleChangePassword} type=\"password\" className=\"input-field\" placeholder=\"Create a password\"/>\r\n                <button type=\"submit\" className=\"submit-btn\" onClick={handleRegister}>Register</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}