{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\noogler\\\\Documents\\\\tutorgenic\\\\dev\\\\client\\\\src\\\\components\\\\TutorPage.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useRef, useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  textField: {\n    width: 200,\n    marginTop: \"1em\",\n    color: \"white\"\n  }\n}));\nexport default function TutorPage(props) {\n  _s();\n\n  const classes = useStyles();\n  const addScheduleRef = useRef();\n  const {\n    setDisplayNavbar,\n    setUser,\n    tutorId\n  } = props;\n  const [schedules, setSchedules] = useState([]);\n  const [daynumbers, setDaynumbers] = useState([]);\n  const [dayMemo, setDayMemo] = useState(new Date());\n  const [registeredSession, setRegisteredSession] = useState();\n  const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  setDisplayNavbar(true);\n  useEffect(() => {\n    const ac = new AbortController();\n    axios.get('/auth/isLoggedIn').then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.isLoggedIn) {\n        const user = res.user;\n        setUser(user);\n        const dates = [];\n        const temp = [];\n        const curr_day = new Date();\n\n        for (var i = 0; i < 7; i++) {\n          if (i === curr_day.getDay()) {\n            dates.push(curr_day.getFullYear() + \"-\" + (curr_day.getMonth() + 1) + \"-\" + curr_day.getDate());\n            temp.push(curr_day.getDate());\n          } else {\n            const other_day = new Date(curr_day.getTime());\n\n            if (i < curr_day.getDay()) {\n              other_day.setDate(curr_day.getDate() - (curr_day.getDay() - i));\n            } else {\n              other_day.setDate(curr_day.getDate() + (i - curr_day.getDay()));\n            }\n\n            temp.push(other_day.getDate());\n            dates.push(other_day.getFullYear() + \"-\" + (other_day.getMonth() + 1) + \"-\" + other_day.getDate());\n          }\n        }\n\n        setDaynumbers(temp);\n        const formData = new FormData();\n\n        for (var i = 0; i < 7; i++) {\n          formData.append('dates[]', dates[i]);\n        }\n\n        formData.set('tutor_id', tutorId);\n        axios({\n          method: 'post',\n          url: '/tutor/getSchedule',\n          data: formData,\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(res => res.data).catch(err => console.log(err)).then(res => {\n          if (res.success) {\n            setSchedules(res.result);\n          } else {\n            alert('Failed');\n          }\n        });\n      } else {\n        window.open('/', '_self');\n      }\n    });\n    return () => {\n      ac.abort();\n    };\n  }, [setUser]);\n\n  function handleNextWeek() {\n    const curr_day = dayMemo;\n    const adder = 7 - curr_day.getDay();\n    curr_day.setDate(curr_day.getDate() + adder);\n    setDayMemo(curr_day);\n    const temp = [];\n    const dates = [];\n\n    for (var i = 0; i < 7; i++) {\n      if (i === 0) {\n        dates.push(curr_day.getFullYear() + \"-\" + (curr_day.getMonth() + 1) + \"-\" + curr_day.getDate());\n        temp.push(curr_day.getDate());\n      } else {\n        const other_day = new Date(curr_day.getTime());\n\n        if (i < curr_day.getDay()) {\n          other_day.setDate(curr_day.getDate() - (curr_day.getDay() - i));\n        } else {\n          other_day.setDate(curr_day.getDate() + (i - curr_day.getDay()));\n        }\n\n        temp.push(other_day.getDate());\n        dates.push(other_day.getFullYear() + \"-\" + (other_day.getMonth() + 1) + \"-\" + other_day.getDate());\n      }\n    }\n\n    setDaynumbers(temp);\n    const formData = new FormData();\n\n    for (var i = 0; i < 7; i++) {\n      formData.append('dates[]', dates[i]);\n    }\n\n    formData.set('tutor_id', tutorId);\n    axios({\n      method: 'post',\n      url: '/tutor/getSchedule',\n      data: formData,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.success) {\n        setSchedules(res.result);\n      } else {\n        alert('Failed');\n      }\n    });\n  }\n\n  function handlePrevWeek() {\n    const curr_day = dayMemo;\n    const adder = -1 - curr_day.getDay();\n    curr_day.setDate(curr_day.getDate() + adder);\n    setDayMemo(curr_day);\n    const temp = [];\n    const dates = [];\n\n    for (var i = 0; i < 7; i++) {\n      if (i === 6) {\n        dates.push(curr_day.getFullYear() + \"-\" + (curr_day.getMonth() + 1) + \"-\" + curr_day.getDate());\n        temp.push(curr_day.getDate());\n      } else {\n        const other_day = new Date(curr_day.getTime());\n\n        if (i < curr_day.getDay()) {\n          other_day.setDate(curr_day.getDate() - (curr_day.getDay() - i));\n        } else {\n          other_day.setDate(curr_day.getDate() + (i - curr_day.getDay()));\n        }\n\n        temp.push(other_day.getDate());\n        dates.push(other_day.getFullYear() + \"-\" + (other_day.getMonth() + 1) + \"-\" + other_day.getDate());\n      }\n    }\n\n    setDaynumbers(temp);\n    const formData = new FormData();\n\n    for (var i = 0; i < 7; i++) {\n      formData.append('dates[]', dates[i]);\n    }\n\n    axios({\n      method: 'post',\n      url: '/tutor/getSchedule',\n      data: formData,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.success) {\n        setSchedules(res.result);\n      } else {\n        alert('Failed');\n      }\n    });\n  }\n\n  function handleRegister(courseId) {\n    const formData = new FormData();\n    formData.set('course_id', courseId);\n    setRegisteredSession();\n    axios({\n      method: 'post',\n      url: '/tutor/register',\n      data: formData,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.success) {\n        alert('Registered');\n      } else {\n        alert('Failed to register');\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => {\n            window.location.href = \"#tutoringSchedule\";\n          },\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#tutoringSchedule\",\n            children: \"Tutoring schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => {\n            window.location.href = \"#registerForSession\";\n          },\n          children: \"Register for a session\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      style: {\n        overflowX: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"tutoringSchedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Tutoring schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              height: \"56px\",\n              marginRight: \"1em\"\n            },\n            variant: \"outlined\",\n            color: \"secondary\",\n            onClick: handlePrevWeek,\n            children: \"Prev\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 21\n          }, this), monthNames[dayMemo.getMonth()] + \" \" + dayMemo.getFullYear(), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              height: \"56px\",\n              marginLeft: \"1em\"\n            },\n            variant: \"outlined\",\n            color: \"secondary\",\n            onClick: handleNextWeek,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar_container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calendar_header\",\n              children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"weekdays\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"SUN\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"MON\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"TUE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"WED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"THU\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"FRI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"SAT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"daynumbers\",\n                children: daynumbers.map(daynumber => {\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: daynumber\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 44\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timeslots_container\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"timeslots\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"GMT+7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"01:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"02:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"03:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"04:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"05:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"06:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"07:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"08:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"09:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"10:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"11:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"12:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"13:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"14:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"15:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"16:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"17:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"18:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"19:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"20:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"21:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"22:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"23:00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event_container\",\n              children: schedules.map(schedule => {\n                const num_start_time = parseInt(schedule.start_time.split(\":\")[0]);\n                const num_end_time = schedule.end_time.split(\":\")[0];\n                const grid_row = num_start_time * 4 + 1;\n                const slotStyle = {\n                  gridRow: String(grid_row),\n                  gridColumn: 1 + new Date(schedule.date).getDay(),\n                  height: String((num_end_time - num_start_time) * 60) + \"px\",\n                  cursor: \"pointer\"\n                };\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"slot\",\n                  style: slotStyle,\n                  onClick: () => {\n                    setRegisteredSession({\n                      _id: schedule._id,\n                      title: schedule.title\n                    });\n                    window.location.href = \"#registerForSession\";\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"event_status\",\n                    children: [schedule.title, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 83\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 89\n                    }, this), schedule.description]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 40\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"registerForSession\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Register for a session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\",\n          children: registeredSession ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"You have selected a new session: \", registeredSession.title, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 84\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 90\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                height: \"56px\",\n                marginLeft: \"1em\"\n              },\n              variant: \"outlined\",\n              color: \"secondary\",\n              onClick: () => {\n                handleRegister(registeredSession._id);\n              },\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 42\n          }, this) : \"Please select a new session.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 12\n  }, this);\n}\n\n_s(TutorPage, \"qg5OkmwbBys8IMvCMMSdD0sjgoM=\", false, function () {\n  return [useStyles];\n});\n\n_c = TutorPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TutorPage\");","map":{"version":3,"sources":["C:/Users/noogler/Documents/tutorgenic/dev/client/src/components/TutorPage.js"],"names":["axios","useEffect","useRef","useState","TextField","Button","makeStyles","useStyles","theme","container","display","flexWrap","textField","width","marginTop","color","TutorPage","props","classes","addScheduleRef","setDisplayNavbar","setUser","tutorId","schedules","setSchedules","daynumbers","setDaynumbers","dayMemo","setDayMemo","Date","registeredSession","setRegisteredSession","monthNames","ac","AbortController","get","then","res","data","catch","err","console","log","isLoggedIn","user","dates","temp","curr_day","i","getDay","push","getFullYear","getMonth","getDate","other_day","getTime","setDate","formData","FormData","append","set","method","url","headers","success","result","alert","window","open","abort","handleNextWeek","adder","handlePrevWeek","handleRegister","courseId","location","href","overflowX","height","marginRight","marginLeft","map","daynumber","schedule","num_start_time","parseInt","start_time","split","num_end_time","end_time","grid_row","slotStyle","gridRow","String","gridColumn","date","cursor","_id","title","description"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {useEffect, useRef, useState} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    textField: {\r\n        width: 200,\r\n        marginTop: \"1em\",\r\n        color: \"white\"\r\n    }\r\n}));\r\n\r\nexport default function TutorPage(props) {\r\n    const classes = useStyles();\r\n    const addScheduleRef = useRef();\r\n    const {setDisplayNavbar, setUser, tutorId} = props;\r\n    const [schedules, setSchedules] = useState([]);\r\n    const [daynumbers, setDaynumbers] = useState([]);\r\n    const [dayMemo, setDayMemo] = useState(new Date());\r\n    const [registeredSession, setRegisteredSession] = useState();\r\n\r\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n    ];\r\n\r\n    setDisplayNavbar(true);\r\n    useEffect(() => {\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n            .then(res => res.data)\r\n            .catch(err => console.log(err))\r\n            .then(res => {\r\n                if (res.isLoggedIn) {\r\n                    const user = res.user;\r\n                    setUser(user);\r\n                    const dates = [];\r\n                    const temp = [];\r\n                    const curr_day = new Date();\r\n                    for (var i = 0; i < 7; i++) {\r\n                        if (i === curr_day.getDay()) {\r\n                            dates.push(curr_day.getFullYear() + \"-\" + (curr_day.getMonth() + 1) + \"-\" + curr_day.getDate());\r\n                            temp.push(curr_day.getDate());\r\n                        } else {\r\n                            const other_day = new Date(curr_day.getTime());\r\n                            if (i < curr_day.getDay()) {\r\n                                other_day.setDate(curr_day.getDate() - (curr_day.getDay() - i));\r\n                            } else {\r\n                                other_day.setDate(curr_day.getDate() + (i - curr_day.getDay()));\r\n                            }\r\n                            temp.push(other_day.getDate());\r\n                            dates.push(other_day.getFullYear() + \"-\" + (other_day.getMonth() + 1) + \"-\" + other_day.getDate())\r\n                        }\r\n                    }\r\n                    setDaynumbers(temp);\r\n                    const formData = new FormData();\r\n                    for (var i = 0; i < 7; i++) {\r\n                        formData.append('dates[]', dates[i]);\r\n                    }\r\n                    formData.set('tutor_id', tutorId);\r\n                    axios({\r\n                        method: 'post',\r\n                        url: '/tutor/getSchedule',\r\n                        data: formData,\r\n                        headers: {'Content-Type': 'multipart/form-data'}\r\n                    })\r\n                    .then(res => res.data)\r\n                    .catch(err => console.log(err))\r\n                    .then(res => {\r\n                        if (res.success) {\r\n                            setSchedules(res.result);\r\n                        } else {\r\n                            alert('Failed');\r\n                        }\r\n                    })\r\n                } else {\r\n                    window.open('/', '_self');\r\n                }\r\n            })\r\n        return () => {\r\n            ac.abort();\r\n        }\r\n    }, [setUser]);\r\n\r\n    function handleNextWeek() {\r\n        const curr_day = dayMemo;\r\n        const adder = 7 - curr_day.getDay();\r\n        curr_day.setDate(curr_day.getDate() + adder);\r\n        setDayMemo(curr_day);\r\n        const temp = [];\r\n        const dates = [];\r\n        for (var i = 0; i < 7; i++) {\r\n            if (i === 0) {\r\n                dates.push(curr_day.getFullYear() + \"-\" + (curr_day.getMonth() + 1) + \"-\" + curr_day.getDate());\r\n                temp.push(curr_day.getDate());\r\n            } else {\r\n                const other_day = new Date(curr_day.getTime());\r\n                if (i < curr_day.getDay()) {\r\n                    other_day.setDate(curr_day.getDate() - (curr_day.getDay() - i));\r\n                } else {\r\n                    other_day.setDate(curr_day.getDate() + (i - curr_day.getDay()));\r\n                }\r\n                temp.push(other_day.getDate());\r\n                dates.push(other_day.getFullYear() + \"-\" + (other_day.getMonth() + 1) + \"-\" + other_day.getDate())\r\n            }\r\n        }\r\n        setDaynumbers(temp);\r\n        const formData = new FormData();\r\n        for (var i = 0; i < 7; i++) {\r\n            formData.append('dates[]', dates[i]);\r\n        }\r\n        formData.set('tutor_id', tutorId);\r\n        axios({\r\n            method: 'post',\r\n            url: '/tutor/getSchedule',\r\n            data: formData,\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res => res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if (res.success) {\r\n                setSchedules(res.result);\r\n            } else {\r\n                alert('Failed');\r\n            }\r\n        })\r\n    }\r\n\r\n    function handlePrevWeek() {\r\n        const curr_day = dayMemo;\r\n        const adder = -1 - curr_day.getDay();\r\n        curr_day.setDate(curr_day.getDate() + adder);\r\n        setDayMemo(curr_day);\r\n        const temp = [];\r\n        const dates = [];\r\n        for (var i = 0; i < 7; i++) {\r\n            if (i === 6) {\r\n                dates.push(curr_day.getFullYear() + \"-\" + (curr_day.getMonth() + 1) + \"-\" + curr_day.getDate());\r\n                temp.push(curr_day.getDate());\r\n            } else {\r\n                const other_day = new Date(curr_day.getTime());\r\n                if (i < curr_day.getDay()) {\r\n                    other_day.setDate(curr_day.getDate() - (curr_day.getDay() - i));\r\n                } else {\r\n                    other_day.setDate(curr_day.getDate() + (i - curr_day.getDay()));\r\n                }\r\n                temp.push(other_day.getDate());\r\n                dates.push(other_day.getFullYear() + \"-\" + (other_day.getMonth() + 1) + \"-\" + other_day.getDate())\r\n            }\r\n        }\r\n        setDaynumbers(temp);\r\n        const formData = new FormData();\r\n        for (var i = 0; i < 7; i++) {\r\n            formData.append('dates[]', dates[i]);\r\n        }\r\n        axios({\r\n            method: 'post',\r\n            url: '/tutor/getSchedule',\r\n            data: formData,\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res => res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if (res.success) {\r\n                setSchedules(res.result);\r\n            } else {\r\n                alert('Failed');\r\n            }\r\n        })\r\n    }\r\n\r\n    function handleRegister(courseId) {\r\n        const formData = new FormData();\r\n        formData.set('course_id', courseId);\r\n        setRegisteredSession();\r\n        axios({\r\n            method: 'post',\r\n            url: '/tutor/register',\r\n            data: formData,\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        .then(res => res.data)\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n            if (res.success) {\r\n                alert('Registered');\r\n            } else {\r\n                alert('Failed to register');\r\n            }\r\n        })\r\n    }\r\n\r\n    return <div className=\"wrapper\">\r\n        <div className=\"sidebar\">\r\n            <ul>\r\n                <li onClick={() => {\r\n                    window.location.href = \"#tutoringSchedule\";\r\n                }}><a href=\"#tutoringSchedule\">Tutoring schedule</a></li>\r\n                <li onClick={() => {\r\n                    window.location.href = \"#registerForSession\";\r\n                }}>Register for a session</li>\r\n            </ul>\r\n        </div>\r\n        <div className=\"content\" style={{overflowX: \"hidden\"}}>\r\n            <div className=\"box\">\r\n                <a name=\"tutoringSchedule\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Tutoring schedule</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n                    <Button style={{\r\n                        height: \"56px\",\r\n                        marginRight: \"1em\"\r\n                    }} variant=\"outlined\" color=\"secondary\" onClick={handlePrevWeek}>\r\n                        Prev\r\n                    </Button>\r\n                    {monthNames[dayMemo.getMonth()] + \" \" + dayMemo.getFullYear()}\r\n                    <Button style={{\r\n                        height: \"56px\",\r\n                        marginLeft: \"1em\"\r\n                    }} variant=\"outlined\" color=\"secondary\" onClick={handleNextWeek}>\r\n                        Next\r\n                    </Button><br /><br />\r\n                    <div className=\"calendar_container\">\r\n                        <div className=\"calendar_header\">\r\n                            <ul className=\"weekdays\">\r\n                                <li>SUN</li>\r\n                                <li>MON</li>\r\n                                <li>TUE</li>\r\n                                <li>WED</li>\r\n                                <li>THU</li>\r\n                                <li>FRI</li>\r\n                                <li>SAT</li>\r\n                            </ul>\r\n\r\n                            <ul className=\"daynumbers\">\r\n                                {daynumbers.map(daynumber => {\r\n                                    return <li>{daynumber}</li>\r\n                                })}\r\n                            </ul>\r\n                        </div>\r\n                        <div className=\"timeslots_container\">\r\n                            <ul className=\"timeslots\">\r\n                                <li>GMT+7</li>\r\n                                <li>01:00</li>\r\n                                <li>02:00</li>\r\n                                <li>03:00</li>\r\n                                <li>04:00</li>\r\n                                <li>05:00</li>\r\n                                <li>06:00</li>\r\n                                <li>07:00</li>\r\n                                <li>08:00</li>\r\n                                <li>09:00</li>\r\n                                <li>10:00</li>\r\n                                <li>11:00</li>\r\n                                <li>12:00</li>\r\n                                <li>13:00</li>\r\n                                <li>14:00</li>\r\n                                <li>15:00</li>\r\n                                <li>16:00</li>\r\n                                <li>17:00</li>\r\n                                <li>18:00</li>\r\n                                <li>19:00</li>\r\n                                <li>20:00</li>\r\n                                <li>21:00</li>\r\n                                <li>22:00</li>\r\n                                <li>23:00</li>\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div className=\"event_container\">\r\n                            {schedules.map(schedule => {\r\n                                const num_start_time = parseInt(schedule.start_time.split(\":\")[0]);\r\n                                const num_end_time = schedule.end_time.split(\":\")[0];\r\n                                const grid_row = (num_start_time * 4) + 1;\r\n                                const slotStyle = {\r\n                                    gridRow: String(grid_row),\r\n                                    gridColumn: 1 + new Date(schedule.date).getDay(),\r\n                                    height: String((num_end_time - num_start_time) * 60) + \"px\",\r\n                                    cursor: \"pointer\"\r\n                                }\r\n                                return <div className=\"slot\" style={slotStyle} onClick={() => {\r\n                                    setRegisteredSession({\r\n                                        _id: schedule._id,\r\n                                        title: schedule.title\r\n                                    })\r\n                                    window.location.href = \"#registerForSession\";\r\n                                }}>\r\n                                    <div className=\"event_status\">{schedule.title}<br /><br />{schedule.description}</div>\r\n                                </div>\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"box\">\r\n                <a name=\"registerForSession\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Register for a session</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n                    {registeredSession ? <div>\r\n                        You have selected a new session: {registeredSession.title} <br /><br />\r\n                        <Button style={{\r\n                            height: \"56px\",\r\n                            marginLeft: \"1em\"\r\n                        }} variant=\"outlined\" color=\"secondary\" onClick={() => {\r\n                            handleRegister(registeredSession._id);\r\n                        }}>\r\n                            Register\r\n                        </Button>\r\n                    </div> : \"Please select a new session.\"}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}