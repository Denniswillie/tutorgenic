{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\noogler\\\\Documents\\\\tutorgenic\\\\dev\\\\client\\\\src\\\\components\\\\ApplyTutor.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport ReactAvatarEdit from 'react-avatar-edit';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ReactAvatar from '@material-ui/core/Avatar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  large: {\n    width: theme.spacing(17),\n    height: theme.spacing(17)\n  }\n}));\nexport default function ApplyTutor(props) {\n  _s();\n\n  const {\n    setDisplayNavbar,\n    setUser\n  } = props;\n  const [localUser, setLocalUser] = useState();\n  const classes = useStyles();\n  setDisplayNavbar(true);\n  useEffect(() => {\n    const ac = new AbortController();\n    axios.get('/auth/isLoggedIn').then(res => res.data).catch(err => console.log(err)).then(res => {\n      if (res.isLoggedIn) {\n        const user = res.user;\n        setUser(user);\n        setLocalUser(user);\n      } else {\n        window.open('/', '_self');\n      }\n    });\n    return () => {\n      ac.abort();\n    };\n  }, [setUser]);\n  const [avatarData, setAvatarData] = useState({\n    preview: null,\n    src: null,\n    file: null,\n    currentExtension: null,\n    originalFile: null\n  });\n  const [uploadingNewFile, setUploadingNewFile] = useState(false);\n\n  function onClose() {\n    setUploadingNewFile(false);\n    setAvatarData({\n      preview: null,\n      src: null,\n      file: null,\n      originalFile: null\n    });\n  }\n\n  async function onCrop(preview) {\n    setAvatarData(prevData => {\n      return { ...prevData,\n        preview\n      };\n    });\n    const currentExtension = avatarData.currentExtension;\n    const file = await urltoFile(preview, 'userImage.' + currentExtension, 'image/' + currentExtension);\n    setAvatarData(prevData => {\n      return { ...prevData,\n        file: file\n      };\n    });\n  }\n\n  function onBeforeFileLoad(event) {\n    const re = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\n    const file = event.target.files[0];\n\n    if (file.size > 1000000000000000) {\n      event.target.value = \"\";\n      alert(\"File size is too big.\");\n    } else if (!re.test(file.name)) {\n      alert(\"File extension is not allowed.\");\n    } else {\n      setUploadingNewFile(true);\n      const separator = /(?:\\.([^.]+))?$/;\n      setAvatarData(prevData => {\n        return { ...prevData,\n          currentExtension: separator.exec(file.name)[1],\n          originalFile: file\n        };\n      });\n    }\n  }\n\n  function urltoFile(url, filename, mimeType) {\n    return fetch(url).then(function (res) {\n      return res.arrayBuffer();\n    }).then(function (buf) {\n      return new File([buf], filename, {\n        type: mimeType\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Apply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#uploadPhoto\",\n            children: \"Upload photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#personalInformation\",\n            children: \"Personal information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#subjects\",\n            children: \"Subjects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#education\",\n            children: \"Education\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#experience\",\n            children: \"Experience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#policyAgreement\",\n            children: \"Policy Agreement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#submitApplication\",\n            children: \"Submit Application\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"uploadPhoto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Upload photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\",\n          children: [!uploadingNewFile && localUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(ReactAvatar, {\n              style: {\n                borderStyle: \"solid\",\n                borderColor: \"#F0F2F5\",\n                borderWidth: \"2px\",\n                margin: \"auto\"\n              },\n              alt: \"user profile\",\n              src: localUser.image_url,\n              className: classes.large\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 63\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 58\n          }, this), /*#__PURE__*/_jsxDEV(ReactAvatarEdit, {\n            minCropRadius: 50,\n            width: 200,\n            height: 150,\n            onCrop: onCrop,\n            onClose: onClose,\n            onBeforeFileLoad: onBeforeFileLoad,\n            src: avatarData.src\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 21\n          }, this), avatarData.preview && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"auto\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: avatarData.preview,\n              alt: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 74\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"personalInformation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Personal information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"subjects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Subjects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"education\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Education\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"experience\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Experience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"policyAgreement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Policy Agreement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          name: \"submitApplication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_top\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Submit Application\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box_bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 12\n  }, this);\n}\n\n_s(ApplyTutor, \"FfnZctD45vJ/C1gCWw6uGpjXwpo=\", false, function () {\n  return [useStyles];\n});\n\n_c = ApplyTutor;\n\nvar _c;\n\n$RefreshReg$(_c, \"ApplyTutor\");","map":{"version":3,"sources":["C:/Users/noogler/Documents/tutorgenic/dev/client/src/components/ApplyTutor.js"],"names":["axios","useEffect","useState","TextField","Button","ReactAvatarEdit","makeStyles","ReactAvatar","useStyles","theme","large","width","spacing","height","ApplyTutor","props","setDisplayNavbar","setUser","localUser","setLocalUser","classes","ac","AbortController","get","then","res","data","catch","err","console","log","isLoggedIn","user","window","open","abort","avatarData","setAvatarData","preview","src","file","currentExtension","originalFile","uploadingNewFile","setUploadingNewFile","onClose","onCrop","prevData","urltoFile","onBeforeFileLoad","event","re","target","files","size","value","alert","test","name","separator","exec","url","filename","mimeType","fetch","arrayBuffer","buf","File","type","borderStyle","borderColor","borderWidth","margin","image_url"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {useEffect, useState} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport ReactAvatarEdit from 'react-avatar-edit';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    large: {\r\n        width: theme.spacing(17),\r\n        height: theme.spacing(17),\r\n    },\r\n}));\r\n\r\nexport default function ApplyTutor(props) {\r\n    const {setDisplayNavbar, setUser} = props;\r\n    const [localUser, setLocalUser] = useState();\r\n    const classes = useStyles();\r\n    setDisplayNavbar(true);\r\n    useEffect(() => {\r\n        const ac = new AbortController();\r\n        axios.get('/auth/isLoggedIn')\r\n            .then(res => res.data)\r\n            .catch(err => console.log(err))\r\n            .then(res => {\r\n                if (res.isLoggedIn) {\r\n                    const user = res.user;\r\n                    setUser(user);\r\n                    setLocalUser(user);\r\n                } else {\r\n                    window.open('/', '_self');\r\n                }\r\n            })\r\n        return () => {\r\n            ac.abort();\r\n        }\r\n    }, [setUser]);\r\n\r\n    const [avatarData, setAvatarData] = useState({\r\n        preview: null,\r\n        src: null,\r\n        file: null,\r\n        currentExtension: null,\r\n        originalFile: null\r\n    });\r\n\r\n    const [uploadingNewFile, setUploadingNewFile] = useState(false);\r\n\r\n    function onClose() {\r\n        setUploadingNewFile(false);\r\n        setAvatarData({preview: null, src: null, file: null, originalFile: null});\r\n    }\r\n    \r\n    async function onCrop(preview) {\r\n        setAvatarData(prevData => {\r\n            return {...prevData, preview};\r\n        })\r\n        const currentExtension = avatarData.currentExtension;\r\n        const file = await urltoFile(preview, 'userImage.' + currentExtension, 'image/' + currentExtension)\r\n        setAvatarData(prevData => {\r\n            return {...prevData, file: file};\r\n        })\r\n    }\r\n    \r\n    function onBeforeFileLoad(event) {\r\n        const re = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\r\n        const file = event.target.files[0];\r\n        if (file.size > 1000000000000000) {\r\n            event.target.value = \"\";\r\n            alert(\"File size is too big.\")\r\n        } else if (!re.test(file.name)) {\r\n            alert(\"File extension is not allowed.\")\r\n        } else {\r\n            setUploadingNewFile(true);\r\n            const separator = /(?:\\.([^.]+))?$/;\r\n            setAvatarData(prevData => {\r\n                return {...prevData, currentExtension: separator.exec(file.name)[1], originalFile: file};\r\n            })\r\n        }\r\n    }\r\n    \r\n    function urltoFile(url, filename, mimeType){\r\n        return (fetch(url)\r\n            .then(function(res){return res.arrayBuffer();})\r\n            .then(function(buf){return new File([buf], filename,{type:mimeType});})\r\n        );\r\n    }\r\n\r\n    return <div className=\"wrapper\">\r\n        <div className=\"sidebar\">\r\n            <h2>Apply</h2>\r\n            <ul>\r\n                <li><a href=\"#uploadPhoto\">Upload photo</a></li>\r\n                <li><a href=\"#personalInformation\">Personal information</a></li>\r\n                <li><a href=\"#subjects\">Subjects</a></li>\r\n                <li><a href=\"#education\">Education</a></li>\r\n                <li><a href=\"#experience\">Experience</a></li>\r\n                <li><a href=\"#policyAgreement\">Policy Agreement</a></li>\r\n                <li><a href=\"#submitApplication\">Submit Application</a></li>\r\n            </ul>\r\n        </div>\r\n        <div className=\"content\">\r\n            <div className=\"box\">\r\n                <a name=\"uploadPhoto\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Upload photo</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n                    {(!uploadingNewFile && localUser) && <div><ReactAvatar\r\n                        style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\", margin: \"auto\"}}\r\n                        alt=\"user profile\"\r\n                        src={localUser.image_url}\r\n                        className={classes.large} /></div>}\r\n                    <ReactAvatarEdit\r\n                        minCropRadius={50}\r\n                        width={200}\r\n                        height={150}\r\n                        onCrop={onCrop}\r\n                        onClose={onClose}\r\n                        onBeforeFileLoad={onBeforeFileLoad}\r\n                        src={avatarData.src}\r\n                    />\r\n                    {avatarData.preview && <div style={{margin: \"auto\"}}><img src={avatarData.preview} alt=\"Preview\" /></div>}\r\n                </div>\r\n            </div>\r\n            <div className=\"box\">\r\n                <a name=\"personalInformation\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Personal information</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n\r\n                </div>\r\n            </div>\r\n            <div className=\"box\">\r\n                <a name=\"subjects\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Subjects</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n\r\n                </div>\r\n            </div>\r\n            <div className=\"box\">\r\n                <a name=\"education\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Education</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n\r\n                </div>\r\n            </div>\r\n            <div className=\"box\">\r\n                <a name=\"experience\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Experience</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n\r\n                </div>\r\n            </div>\r\n            <div className=\"box\">\r\n                <a name=\"policyAgreement\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Policy Agreement</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n\r\n                </div>\r\n            </div>\r\n            <div className=\"box\">\r\n                <a name=\"submitApplication\"></a>\r\n                <div className=\"box_top\">\r\n                    <h2>Submit Application</h2>\r\n                </div>\r\n                <div className=\"box_bottom\">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}